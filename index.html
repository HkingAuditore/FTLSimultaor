<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>FTL</title>

    <!-- 插件 -->
    <script type="text/javascript" src="PlugIn/JQuery.js"></script>
    <script type="text/javascript" src="PlugIn/Popper.js"></script>
    <script type="text/javascript" src="PlugIn/bootstrap/js/bootstrap.bundle.js"></script>
    <script type="text/javascript" src="PlugIn/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script type="text/javascript" src="PlugIn/bootstrap/js/bootstrap.js"></script>
    <script type="text/javascript" src="PlugIn/bootstrap/js/bootstrap.min.js"></script>

    <link rel="stylesheet" href="PlugIn/bootstrap/css/bootstrap.css" />
    <link rel="stylesheet" href="PlugIn/bootstrap/css/bootstrap-grid.css" />
    <link rel="stylesheet" href="PlugIn/bootstrap/css/bootstrap-grid.min.css" />
    <link rel="stylesheet" href="PlugIn/bootstrap/css/bootstrap-reboot.css" />
    <link rel="stylesheet" href="PlugIn/bootstrap/css/bootstrap-reboot.min.css" />
    <link rel="stylesheet" href="PlugIn/bootstrap/css/bootstrap.min.css" />

    <!-- 插件 -->

    <script type="text/javascript" src="Scripts/Data/Page.js"></script>
    <script type="text/javascript" src="Scripts/Data/Block.js"></script>
    <script type="text/javascript" src="Scripts/Data/Data.js"></script>
    <script type="text/javascript" src="Scripts/FTL/SSD.js"></script>
</head>
<script>
    let ssd = new SSD(256);
    let data = new Data(
        "海客谈瀛洲 烟涛微茫信难求 越人语天姥 云霞明灭或可睹 天姥连天向天横 势拔五岳掩赤城 天台四万八千丈 对此欲倒东南倾 我欲因之梦吴越 一夜飞度镜湖月 湖月照我影 送我至剡溪 谢公宿处今尚在 渌水荡漾清猿啼 脚著谢公屐 身登青云梯 半壁见海日 空中闻天鸡 千岩万转路不定 迷花倚石忽已暝 熊咆龙吟殷岩泉 栗深林兮惊层巅 云青青兮欲雨 水澹澹兮生烟 列缺霹雳 丘峦崩摧 洞天石扉 訇然中开 青冥浩荡不见底 日月照耀金银台 霓为衣兮风为马 云之君兮纷纷而来下 虎鼓瑟兮鸾回车 仙之人兮列如麻 忽魂悸以魄动 恍惊起而长嗟 惟觉时之枕席 失向来之烟霞 世间行乐亦如此 古来万事东流水 别君去兮何时还 且放白鹿青崖间 须行即骑访名山 安能摧眉折腰事权贵 使我不得开心颜",
        ssd
    );

    console.log("IN DATA");
    console.log("length:" + data.blocks.length);
    console.log(data.Read());

    console.log("IN SSD");
    console.log("free length:" + ssd.freeBlocks.length);
    console.log("used length:" + ssd.usedBlocks.length);
    let used = "";
    ssd.usedBlocks.forEach((element) => {
        used += element.Read();
    });
    console.log(Data.BinaryToStr(used));

    console.log("***EDIT***");
    data.Edit(
        "硕鼠硕鼠，无食我黍",
    );
    console.log("IN DATA");
    console.log("length:" + data.blocks.length);
    console.log(data.Read());

    console.log("IN SSD");
    console.log("free length:" + ssd.freeBlocks.length);
    console.log("used length:" + ssd.usedBlocks.length);
    used = "";
    ssd.usedBlocks.forEach((element) => {
        used += element.Read();
    });
    console.log(Data.BinaryToStr(used));

    console.log("***EDIT***");
    data.Edit(
        "秦孝公据崤函之固，拥雍州之地，君臣固守以窥周室，有席卷天下，包举宇内，囊括四海之意，并吞八荒之心。当是时也，商君佐之，内立法度，务耕织，修守战之具，外连衡而斗诸侯。于是秦人拱手而取西河之外。孝公既没，惠文、武、昭襄蒙故业，因遗策，南取汉中，西举巴、蜀，东割膏腴之地，北收要害之郡。诸侯恐惧，会盟而谋弱秦，不爱珍器重宝肥饶之地，以致天下之士，合从缔交，相与为一。当此之时，齐有孟尝，赵有平原，有春申，魏有信陵。此四君者，皆明智而忠信，宽厚而爱人，尊贤而重士，约从离衡，兼韩、魏、燕、楚、齐、赵、宋、卫、中山之众。于是六国之士，有宁越、徐尚、苏秦、杜赫之属为之谋，齐明、周最、陈轸、召滑、楼缓、景、苏厉、乐毅之徒通其意，吴起、孙膑、带佗、倪良、王廖、田忌、廉颇、赵奢之伦制其兵。尝以十倍之地，百万之众，叩关而攻秦。秦人开关延敌，九国之师，逡巡而不敢进。秦无亡矢遗镞之费，而天下诸侯已困矣。于是从约败，争割地而赂秦。秦有余力而制其弊，追亡逐北，伏尸百万，流血漂橹；因利乘便，宰割天下，分裂山河。强国请服，弱国入朝。延及孝文王、庄襄王，享国之日浅，国家无事。及至始皇，奋六世之余烈，振长策而御宇内，吞二周而亡诸侯，履至尊而制六合，执敲扑而鞭笞天下，威振四海。南取百越之地，以为桂林、象郡；百越之君，俯首系颈，委命下吏。乃使蒙恬北筑长城而守藩篱，却匈奴七百余里胡人不敢南下而牧马，士不敢弯弓而报怨。于是废先王之道，焚百家之言，以愚黔首；隳名城，杀豪杰；收天下之兵，聚之咸阳，销锋镝，铸以为金人十二，以弱天下之民。然后践华为城，因河为池，据亿丈之城，临不测之渊，为固。良将劲弩守要害之处，信臣精卒陈利兵而谁何。天下已定，始皇之心，自以为关中之固，金城千里，子孙帝王万世之业也。始皇既没，余威震于殊俗。然陈涉瓮牖绳枢之子，氓隶之人，而迁徙之徒也；才能不及中人，非有仲尼，墨翟之贤，陶朱、猗顿之富；蹑足行伍之间，而倔起阡陌之中，率疲弊之卒，将数百之众，转而攻秦；斩木为兵，揭竿为旗天下云集响应，赢粮而景从。山东豪俊遂并起而亡秦族矣。且夫天下非小弱也，雍州之地，崤函之固，自若也。陈涉之位，非尊于齐、楚、燕、赵、韩、魏、宋、卫、中山之君也；锄櫌棘矜，非铦于钩戟长铩也；谪戍之众，非抗于九国之师也；深谋远虑，行军用兵之道，非及向时之士也然而成败异变，功业相反，何也？试使山东之国与陈涉度长絜大，比权量力，则不可同年而语矣。然秦以区区之地，致万乘之势，序八州而朝同列，百有余年矣；然后以六合为家，崤函为宫；一夫作难而七庙隳，身死人手，为天笑者，何也？仁义不施而攻守之势异也。",
    );
    console.log("IN DATA");
    console.log("length:" + data.blocks.length);
    console.log(data.Read());

    console.log("IN SSD");
    console.log("free length:" + ssd.freeBlocks.length);
    console.log("used length:" + ssd.usedBlocks.length);
    used = "";
    ssd.usedBlocks.forEach((element) => {
        used += element.Read();
    });
    console.log(Data.BinaryToStr(used));



    console.log("***ADD***");
    let data1 = new Data(
        "日月之行 若出其中 星汉灿烂 若出其里",
        ssd
    );
    console.log("IN DATA");
    console.log("length:" + data1.blocks.length);
    console.log(data1.Read());

    console.log("IN SSD");
    console.log("free length:" + ssd.freeBlocks.length);
    console.log("used length:" + ssd.usedBlocks.length);
    used = "";
    ssd.usedBlocks.forEach((element) => {
        used += element.Read();
    });
    console.log(Data.BinaryToStr(used));

    console.log("***EDIT***");
    data.Edit(
        "举杯邀明月 对影成三人",
    );
    console.log("IN DATA");
    console.log("length:" + data.blocks.length);
    console.log(data.Read());
    console.log("IN SSD");
    console.log("free length:" + ssd.freeBlocks.length);
    console.log("used length:" + ssd.usedBlocks.length);
    used = "";
    ssd.usedBlocks.forEach((element) => {
        used += element.Read();
    });
    console.log(Data.BinaryToStr(used));

    console.log(ssd);
</script>

<body></body>

</html>